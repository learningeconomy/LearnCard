"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.FocusLock=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var React=_interopRequireWildcard(require("react"));var _focusLock=_interopRequireWildcard(require("focus-lock"));var _reactMergeRefs=_interopRequireDefault(require("react-merge-refs"));var FocusGuard=function FocusGuard(_ref){var active=_ref.active;return React.createElement("div",{"data-focus-guard":true,tabIndex:active?0:-1,style:{width:1,height:0,padding:0,overflow:"hidden",position:"fixed",top:1,left:1}})};var FocusLock=React.forwardRef(function(_ref2,ref){var active=_ref2.active,_ref2$onBlur=_ref2.onBlur,_onBlur=_ref2$onBlur===void 0?function(){return undefined}:_ref2$onBlur,html=(0,_objectWithoutProperties2["default"])(_ref2,["active","onBlur"]);var trap=React.useRef(null);var trapFocus=function trapFocus(){if(active&&!(0,_focusLock.focusInside)(trap.current)){setTimeout(function(){return(0,_focusLock["default"])(trap.current,document.activeElement)},50)}};React.useEffect(trapFocus);return React.createElement(React.Fragment,null,React.createElement(FocusGuard,{active:active}),React.createElement("div",(0,_extends2["default"])({ref:(0,_reactMergeRefs["default"])([trap,ref])},html,{onBlur:function onBlur(e){if(e.relatedTarget&&e.relatedTarget.getAttribute("data-focus-guard")){trapFocus()}_onBlur(e)}})),React.createElement(FocusGuard,{active:active}))});exports.FocusLock=FocusLock;
//# sourceMappingURL=focus-lock.js.map