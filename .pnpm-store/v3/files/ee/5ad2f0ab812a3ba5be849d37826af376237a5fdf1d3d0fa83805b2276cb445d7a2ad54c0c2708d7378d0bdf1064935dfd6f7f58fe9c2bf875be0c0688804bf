"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.Portal=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var React=_interopRequireWildcard(require("react"));var ReactDOM=_interopRequireWildcard(require("react-dom"));var PortalContext=React.createContext(undefined);var useIsomorphicLayoutEffect=typeof window==="undefined"?React.useEffect:React.useLayoutEffect;var usePortal=function usePortal(containerRef){var _React$useState=React.useState(null),_React$useState2=(0,_slicedToArray2["default"])(_React$useState,2),rootElemRef=_React$useState2[0],rootElemRefSet=_React$useState2[1];var context=React.useContext(PortalContext);useIsomorphicLayoutEffect(function(){if(typeof document!=="undefined"){rootElemRefSet(document.createElement("div"))}},[]);React.useEffect(function(){if(!rootElemRef){return}var parent=context||containerRef&&containerRef.current||document.body;parent.appendChild(rootElemRef);return function(){if(rootElemRef&&rootElemRef.parentNode){rootElemRef.parentNode.removeChild(rootElemRef)}}},[rootElemRef,containerRef,context]);return rootElemRef};var Portal=React.forwardRef(function(props,ref){var containerRef=props.containerRef,children=props.children;var portalElement=usePortal(containerRef);if(!portalElement){return null}if(typeof ref==="function"){ref(portalElement)}else if(ref){ref.current=portalElement}var portal=ReactDOM.createPortal(React.createElement(PortalContext.Provider,{value:portalElement},children),portalElement);return portal});exports.Portal=Portal;
//# sourceMappingURL=portal.js.map