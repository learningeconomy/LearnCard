import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import*as React from"react";import moveFocusInside,{focusInside}from"focus-lock";import mergeRefs from"react-merge-refs";var FocusGuard=function FocusGuard(_ref){var active=_ref.active;return React.createElement("div",{"data-focus-guard":true,tabIndex:active?0:-1,style:{width:1,height:0,padding:0,overflow:"hidden",position:"fixed",top:1,left:1}})};export var FocusLock=React.forwardRef(function(_ref2,ref){var active=_ref2.active,_ref2$onBlur=_ref2.onBlur,_onBlur=_ref2$onBlur===void 0?function(){return undefined}:_ref2$onBlur,html=_objectWithoutProperties(_ref2,["active","onBlur"]);var trap=React.useRef(null);var trapFocus=function trapFocus(){if(active&&!focusInside(trap.current)){setTimeout(function(){return moveFocusInside(trap.current,document.activeElement)},50)}};React.useEffect(trapFocus);return React.createElement(React.Fragment,null,React.createElement(FocusGuard,{active:active}),React.createElement("div",_extends({ref:mergeRefs([trap,ref])},html,{onBlur:function onBlur(e){if(e.relatedTarget&&e.relatedTarget.getAttribute("data-focus-guard")){trapFocus()}_onBlur(e)}})),React.createElement(FocusGuard,{active:active}))});
//# sourceMappingURL=focus-lock.js.map